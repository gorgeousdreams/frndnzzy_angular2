<div style="margin-left: -35px;">
	<ol class="breadcrumb bread-primary " style="background-color: #FFF;    margin-left: 0px;">
		<li><a style="color:#333;"><i class="fa fa-bell-o" aria-hidden="true" style="margin-right:10px;"></i>Pollings</a></li>
		<li><a>History <i class="glyphicon glyphicon-menu-right"></i></a></li>
	</ol>
</div>
<div id="pollinghistory"  class="form-group col-md-12">
	<div id="custom-search-input">
		<div class="input-group col-md-12">
			<input type="text" class="form-control input-lg" (keyup)="Search()" [(ngModel)]="searchString" placeholder="Search by polling text"
			/>
		</div>
	</div>
	<div style="font-size: 13px;
    color: #999;
    padding-top: 10px;
    padding-bottom: 10px;">Showing notifications for the last 30 days. <span style="margin-left:7px;font-size:12px;color:#2196f3;cursor:pointer;display:none;" (click)="changeDates()"
			id="change">CHANGE</span></div>
	
	<div *ngIf="!isLoading">
		<table class="table table-striped table-hover">
			<tr *ngFor="let res of result" class="notification-row">
				<td>
					<div class="media">
						<div class="media-body">
							<p><i>Title:</i>&nbsp;{{res.title}}, <i>Question:</i>&nbsp;{{res.question}}, <i>Pool Created:</i>&nbsp;date: {{res.created_at}}, Pool Reach&nbsp;{{res.poll_asked_to}} answered the poll.</p>

							
							<ul class="list-inline list-unstyled" style="color:#666; display: inline; font-size: 12px;">
								<li><a class="btn btn-md btn-info" style="padding: 3px 8px; font-size: 12px" (click)="modal.open()">Click here to see the results</a></li>
								<modal #modal>
								    <modal-body>
								    	
								    	<button aria-label="Close" class="close" data-dismiss="modal" type="button">
								    		<span aria-hidden="true">x</span>
								    	</button><br>
								    	<h3 style="text-align: center;"> <i style="font-size: 0.8em">Title:</i> {{res.title}}</h3>
								    	<h4 style="text-align: center;"> <i style="font-size: 0.8em">Message:</i> {{res.question}}</h4>
								        <bar-chart [data]='res.poll_votes' [count]="res.poll_voted_by"></bar-chart>
								    </modal-body>
								    
								</modal>
							
							</ul>
							<p style="display: inline; float: right;"><i>Pool Created by:</i>&nbsp;{{res.sent_by}}</p>
						</div>
					</div>
				</td>
			</tr>
		</table>
		
	</div>
	<div *ngIf="isLoading" class="row" style="text-align:center;">
		<img src="assets/images/loading.gif" alt="" />
	</div>
</div>